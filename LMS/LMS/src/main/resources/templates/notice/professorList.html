<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>êµìˆ˜ ê³µì§€ì‚¬í•­ ëª©ë¡</title>
  <link rel="stylesheet" th:href="@{/css/common.css}"> <!-- ê³µí†µ CSS -->
  <style>
    body {
        font-family: 'Noto Sans KR', sans-serif;
        padding: 20px;
        background-color: #f8f8f8;
    }

    h2 {
        color: #333;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        background-color: white;
        box-shadow: 0 0 8px rgba(0,0,0,0.1);
    }

    th, td {
        padding: 12px;
        border: 1px solid #ddd;
        text-align: center;
    }

    th {
        background-color: #3b003b;
        color: white;
    }

    .btn {
        padding: 6px 12px;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        color: white;
        font-size: 14px;
    }

    .btn-new {
        background-color: #28a745;
        margin-bottom: 15px;
    }

    .btn-edit {
        background-color: #007bff;
    }

    .btn-delete {
        background-color: #dc3545;
    }

    .btn:hover {
        opacity: 0.9;
    }
  </style>
</head>
<body>

<!-- ìƒë‹¨ë°” -->
<div th:replace="fragments/navbar :: topbar"></div>

<!-- ì‚¬ì´ë“œë°” -->
<div th:replace="fragments/sidebar :: sidebar"></div>

<h2>ğŸ“š ê³¼ëª© ê³µì§€ì‚¬í•­ ëª©ë¡</h2>

<!-- ê³µì§€ì‚¬í•­ ë“±ë¡ ë²„íŠ¼ -->
<form th:action="@{/notice/professor/new}" method="get">
  <button type="submit" class="btn btn-new">+ ìƒˆ ê³µì§€ì‚¬í•­ ì‘ì„±</button>
</form>

<!-- ê³µì§€ì‚¬í•­ í…Œì´ë¸” -->
<table>
  <thead>
  <tr>
    <th>ë²ˆí˜¸</th>
    <th>ê³¼ëª©ëª…</th>
    <th>ì œëª©</th>
    <th>ì‘ì„±ì¼</th>
    <th>ìˆ˜ì •</th>
    <th>ì‚­ì œ</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="notice, iter : ${notices}">
    <td th:text="${iter.index + 1}">1</td>
    <td th:text="${notice.course.courseName}">ìë£Œêµ¬ì¡°</td>
    <td th:text="${notice.title}">ê³µì§€ ì œëª©</td>
    <td th:text="${#temporals.format(notice.date, 'yyyy-MM-dd')}">2025-05-11</td>
    <td>
      <a th:href="@{'/notice/professor/edit/' + ${notice.id}}">
        <button class="btn btn-edit">ìˆ˜ì •</button>
      </a>
    </td>
    <td>
      <form th:action="@{'/notice/professor/delete/' + ${notice.id}}" method="post" onsubmit="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?');">
        <button type="submit" class="btn btn-delete">ì‚­ì œ</button>
      </form>
    </td>
  </tr>
  <tr th:if="${notices == null or #lists.isEmpty(notices)}">
    <td colspan="6">ë“±ë¡ëœ ê³µì§€ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.</td>
  </tr>
  </tbody>
</table>

<!-- ê³µí†µ JavaScript íŒŒì¼ ë¡œë“œ -->
<script src="/js/common.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    if (typeof initializeSidebarEvents === 'function') {
      initializeSidebarEvents(); // common.js ë‚´ë¶€ í•¨ìˆ˜ê°€ ì •ì˜ë˜ì–´ ìˆë‹¤ë©´
    }
  });
</script>
</body>
</html>